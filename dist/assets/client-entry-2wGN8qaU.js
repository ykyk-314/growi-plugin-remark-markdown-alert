const K="growi-plugin-remark-markdown-alert",V="1.0.0",X="GROWI plugin Remark alert syntax",Y="MIT",ee=[],ne="module",te={dev:"vite",build:"tsc && vite build",preview:"vite preview"},re={"mdast-util-to-markdown":"^2.1.0",react:"^18.3.1","react-dom":"^18.3.1","react-innertext":"^1.1.5",unified:"^11.0.5","unist-util-visit":"^5.0.0"},ie={"@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^5.0.0","@typescript-eslint/parser":"^5.0.0","@vitejs/plugin-react":"^4.3.1",eslint:"^8.18.0","eslint-config-next":"^14.2.4","eslint-config-weseek":"^2.1.0","eslint-import-resolver-typescript":"^3.2.5","eslint-plugin-import":"^2.29.1","eslint-plugin-jest":"^27.1.0","eslint-plugin-react":"^7.30.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-regex":"^1.10.0",jest:"^29.7.0",typescript:"^5.5.2",vite:"^5.3.2"},ce={schemaVersion:"4",types:["script"]},oe={name:K,version:V,description:X,license:Y,keywords:ee,type:ne,scripts:te,dependencies:re,devDependencies:ie,growiPlugin:ce},_={}.hasOwnProperty;function ae(n,t){const e=t||{};function r(c,...a){let i=r.invalid;const l=r.handlers;if(c&&_.call(c,n)){const o=String(c[n]);i=_.call(l,o)?l[o]:r.unknown}if(i)return i.call(this,c,...a)}return r.handlers=e.handlers||{},r.invalid=e.invalid,r.unknown=e.unknown,r}const le={}.hasOwnProperty;function S(n,t){let e=-1,r;if(t.extensions)for(;++e<t.extensions.length;)S(n,t.extensions[e]);for(r in t)if(le.call(t,r))switch(r){case"extensions":break;case"unsafe":{I(n[r],t[r]);break}case"join":{I(n[r],t[r]);break}case"handlers":{se(n[r],t[r]);break}default:n.options[r]=t[r]}return n}function I(n,t){t&&n.push(...t)}function se(n,t){t&&Object.assign(n,t)}function ue(n,t,e,r){const c=e.enter("blockquote"),a=e.createTracker(r);a.move("> "),a.shift(2);const i=e.indentLines(e.containerFlow(n,a.current()),fe);return c(),i}function fe(n,t,e){return">"+(e?"":" ")+n}function B(n,t){return F(n,t.inConstruct,!0)&&!F(n,t.notInConstruct,!1)}function F(n,t,e){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return e;let r=-1;for(;++r<t.length;)if(n.includes(t[r]))return!0;return!1}function P(n,t,e,r){let c=-1;for(;++c<e.unsafe.length;)if(e.unsafe[c].character===`
`&&B(e.stack,e.unsafe[c]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function he(n,t){const e=String(n);let r=e.indexOf(t),c=r,a=0,i=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===c?++a>i&&(i=a):a=1,c=r+t.length,r=e.indexOf(t,c);return i}function x(n,t){return!!(t.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function de(n){const t=n.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pe(n,t,e,r){const c=de(e),a=n.value||"",i=c==="`"?"GraveAccent":"Tilde";if(x(n,e)){const f=e.enter("codeIndented"),h=e.indentLines(a,me);return f(),h}const l=e.createTracker(r),o=c.repeat(Math.max(he(a,c)+1,3)),s=e.enter("codeFenced");let u=l.move(o);if(n.lang){const f=e.enter(`codeFencedLang${i}`);u+=l.move(e.safe(n.lang,{before:u,after:" ",encode:["`"],...l.current()})),f()}if(n.lang&&n.meta){const f=e.enter(`codeFencedMeta${i}`);u+=l.move(" "),u+=l.move(e.safe(n.meta,{before:u,after:`
`,encode:["`"],...l.current()})),f()}return u+=l.move(`
`),a&&(u+=l.move(a+`
`)),u+=l.move(o),s(),u}function me(n,t,e){return(e?"":"    ")+n}function v(n){const t=n.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ge(n,t,e,r){const c=v(e),a=c==='"'?"Quote":"Apostrophe",i=e.enter("definition");let l=e.enter("label");const o=e.createTracker(r);let s=o.move("[");return s+=o.move(e.safe(e.associationId(n),{before:s,after:"]",...o.current()})),s+=o.move("]: "),l(),!n.url||/[\0- \u007F]/.test(n.url)?(l=e.enter("destinationLiteral"),s+=o.move("<"),s+=o.move(e.safe(n.url,{before:s,after:">",...o.current()})),s+=o.move(">")):(l=e.enter("destinationRaw"),s+=o.move(e.safe(n.url,{before:s,after:n.title?" ":`
`,...o.current()}))),l(),n.title&&(l=e.enter(`title${a}`),s+=o.move(" "+c),s+=o.move(e.safe(n.title,{before:s,after:c,...o.current()})),s+=o.move(c),l()),i(),s}function ke(n){const t=n.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}E.peek=we;function E(n,t,e,r){const c=ke(e),a=e.enter("emphasis"),i=e.createTracker(r);let l=i.move(c);return l+=i.move(e.containerPhrasing(n,{before:l,after:c,...i.current()})),l+=i.move(c),a(),l}function we(n,t,e){return e.options.emphasis||"*"}const y=function(n){if(n==null)return ye;if(typeof n=="function")return w(n);if(typeof n=="object")return Array.isArray(n)?xe(n):be(n);if(typeof n=="string")return ve(n);throw new Error("Expected function, string, or object as test")};function xe(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=y(n[e]);return w(r);function r(...c){let a=-1;for(;++a<t.length;)if(t[a].apply(this,c))return!0;return!1}}function be(n){const t=n;return w(e);function e(r){const c=r;let a;for(a in n)if(c[a]!==t[a])return!1;return!0}}function ve(n){return w(t);function t(e){return e&&e.type===n}}function w(n){return t;function t(e,r,c){return!!(Ce(e)&&n.call(this,e,typeof r=="number"?r:void 0,c||void 0))}}function ye(){return!0}function Ce(n){return n!==null&&typeof n=="object"&&"type"in n}const O=[],Ae=!0,b=!1,_e="skip";function Ie(n,t,e,r){let c;typeof t=="function"&&typeof e!="function"?(r=e,e=t):c=t;const a=y(c),i=r?-1:1;l(n,void 0,[])();function l(o,s,u){const f=o&&typeof o=="object"?o:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=O,m,p,A;if((!t||a(o,s,u[u.length-1]||void 0))&&(d=Fe(e(o,u)),d[0]===b))return d;if("children"in o&&o.children){const k=o;if(k.children&&d[0]!==_e)for(p=(r?k.children.length:-1)+i,A=u.concat(k);p>-1&&p<k.children.length;){const Z=k.children[p];if(m=l(Z,p,A)(),m[0]===b)return m;p=typeof m[1]=="number"?m[1]:p+i}}return d}}}function Fe(n){return Array.isArray(n)?n:typeof n=="number"?[Ae,n]:n==null?O:[n]}function j(n,t,e,r){let c,a,i;typeof t=="function"&&typeof e!="function"?(a=void 0,i=t,c=e):(a=t,i=e,c=r),Ie(n,a,l,c);function l(o,s){const u=s[s.length-1],f=u?u.children.indexOf(o):void 0;return i(o,f,u)}}const Pe={};function M(n,t){const e=Pe,r=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,c=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return z(n,r,c)}function z(n,t,e){if(Te(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return T(n.children,t,e)}return Array.isArray(n)?T(n,t,e):""}function T(n,t,e){const r=[];let c=-1;for(;++c<n.length;)r[c]=z(n[c],t,e);return r.join("")}function Te(n){return!!(n&&typeof n=="object")}function N(n,t){let e=!1;return j(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return e=!0,b}),!!((!n.depth||n.depth<3)&&M(n)&&(t.options.setext||e))}function Le(n,t,e,r){const c=Math.max(Math.min(6,n.depth||1),1),a=e.createTracker(r);if(N(n,e)){const u=e.enter("headingSetext"),f=e.enter("phrasing"),h=e.containerPhrasing(n,{...a.current(),before:`
`,after:`
`});return f(),u(),h+`
`+(c===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const i="#".repeat(c),l=e.enter("headingAtx"),o=e.enter("phrasing");a.move(i+" ");let s=e.containerPhrasing(n,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(s)&&(s="&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"+s.slice(1)),s=s?i+" "+s:i,e.options.closeAtx&&(s+=" "+i),o(),l(),s}$.peek=Re;function $(n){return n.value||""}function Re(){return"<"}G.peek=Se;function G(n,t,e,r){const c=v(e),a=c==='"'?"Quote":"Apostrophe",i=e.enter("image");let l=e.enter("label");const o=e.createTracker(r);let s=o.move("![");return s+=o.move(e.safe(n.alt,{before:s,after:"]",...o.current()})),s+=o.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=e.enter("destinationLiteral"),s+=o.move("<"),s+=o.move(e.safe(n.url,{before:s,after:">",...o.current()})),s+=o.move(">")):(l=e.enter("destinationRaw"),s+=o.move(e.safe(n.url,{before:s,after:n.title?" ":")",...o.current()}))),l(),n.title&&(l=e.enter(`title${a}`),s+=o.move(" "+c),s+=o.move(e.safe(n.title,{before:s,after:c,...o.current()})),s+=o.move(c),l()),s+=o.move(")"),i(),s}function Se(){return"!"}q.peek=Be;function q(n,t,e,r){const c=n.referenceType,a=e.enter("imageReference");let i=e.enter("label");const l=e.createTracker(r);let o=l.move("![");const s=e.safe(n.alt,{before:o,after:"]",...l.current()});o+=l.move(s+"]["),i();const u=e.stack;e.stack=[],i=e.enter("reference");const f=e.safe(e.associationId(n),{before:o,after:"]",...l.current()});return i(),e.stack=u,a(),c==="full"||!s||s!==f?o+=l.move(f+"]"):c==="shortcut"?o=o.slice(0,-1):o+=l.move("]"),o}function Be(){return"!"}D.peek=Ee;function D(n,t,e){let r=n.value||"",c="`",a=-1;for(;new RegExp("(^|[^`])"+c+"([^`]|$)").test(r);)c+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<e.unsafe.length;){const i=e.unsafe[a],l=e.compilePattern(i);let o;if(i.atBreak)for(;o=l.exec(r);){let s=o.index;r.charCodeAt(s)===10&&r.charCodeAt(s-1)===13&&s--,r=r.slice(0,s)+" "+r.slice(o.index+1)}}return c+r+c}function Ee(){return"`"}function U(n,t){const e=M(n);return!!(!t.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(e===n.url||"mailto:"+e===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}Q.peek=Oe;function Q(n,t,e,r){const c=v(e),a=c==='"'?"Quote":"Apostrophe",i=e.createTracker(r);let l,o;if(U(n,e)){const u=e.stack;e.stack=[],l=e.enter("autolink");let f=i.move("<");return f+=i.move(e.containerPhrasing(n,{before:f,after:">",...i.current()})),f+=i.move(">"),l(),e.stack=u,f}l=e.enter("link"),o=e.enter("label");let s=i.move("[");return s+=i.move(e.containerPhrasing(n,{before:s,after:"](",...i.current()})),s+=i.move("]("),o(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(o=e.enter("destinationLiteral"),s+=i.move("<"),s+=i.move(e.safe(n.url,{before:s,after:">",...i.current()})),s+=i.move(">")):(o=e.enter("destinationRaw"),s+=i.move(e.safe(n.url,{before:s,after:n.title?" ":")",...i.current()}))),o(),n.title&&(o=e.enter(`title${a}`),s+=i.move(" "+c),s+=i.move(e.safe(n.title,{before:s,after:c,...i.current()})),s+=i.move(c),o()),s+=i.move(")"),l(),s}function Oe(n,t,e){return U(n,e)?"<":"["}J.peek=je;function J(n,t,e,r){const c=n.referenceType,a=e.enter("linkReference");let i=e.enter("label");const l=e.createTracker(r);let o=l.move("[");const s=e.containerPhrasing(n,{before:o,after:"]",...l.current()});o+=l.move(s+"]["),i();const u=e.stack;e.stack=[],i=e.enter("reference");const f=e.safe(e.associationId(n),{before:o,after:"]",...l.current()});return i(),e.stack=u,a(),c==="full"||!s||s!==f?o+=l.move(f+"]"):c==="shortcut"?o=o.slice(0,-1):o+=l.move("]"),o}function je(){return"["}function C(n){const t=n.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Me(n){const t=C(n),e=n.options.bulletOther;if(!e)return t==="*"?"-":"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+e+"`) to be different");return e}function ze(n){const t=n.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function H(n){const t=n.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ne(n,t,e,r){const c=e.enter("list"),a=e.bulletCurrent;let i=n.ordered?ze(e):C(e);const l=n.ordered?i==="."?")":".":Me(e);let o=t&&e.bulletLastUsed?i===e.bulletLastUsed:!1;if(!n.ordered){const u=n.children?n.children[0]:void 0;if((i==="*"||i==="-")&&u&&(!u.children||!u.children[0])&&e.stack[e.stack.length-1]==="list"&&e.stack[e.stack.length-2]==="listItem"&&e.stack[e.stack.length-3]==="list"&&e.stack[e.stack.length-4]==="listItem"&&e.indexStack[e.indexStack.length-1]===0&&e.indexStack[e.indexStack.length-2]===0&&e.indexStack[e.indexStack.length-3]===0&&(o=!0),H(e)===i&&u){let f=-1;for(;++f<n.children.length;){const h=n.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){o=!0;break}}}}o&&(i=l),e.bulletCurrent=i;const s=e.containerFlow(n,r);return e.bulletLastUsed=i,e.bulletCurrent=a,c(),s}function $e(n){const t=n.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ge(n,t,e,r){const c=$e(e);let a=e.bulletCurrent||C(e);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(e.options.incrementListMarker===!1?0:t.children.indexOf(n))+a);let i=a.length+1;(c==="tab"||c==="mixed"&&(t&&t.type==="list"&&t.spread||n.spread))&&(i=Math.ceil(i/4)*4);const l=e.createTracker(r);l.move(a+" ".repeat(i-a.length)),l.shift(i);const o=e.enter("listItem"),s=e.indentLines(e.containerFlow(n,l.current()),u);return o(),s;function u(f,h,d){return h?(d?"":" ".repeat(i))+f:(d?a:a+" ".repeat(i-a.length))+f}}function qe(n,t,e,r){const c=e.enter("paragraph"),a=e.enter("phrasing"),i=e.containerPhrasing(n,r);return a(),c(),i}const De=y(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ue(n,t,e,r){return(n.children.some(function(i){return De(i)})?e.containerPhrasing:e.containerFlow).call(e,n,r)}function Qe(n){const t=n.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}W.peek=Je;function W(n,t,e,r){const c=Qe(e),a=e.enter("strong"),i=e.createTracker(r);let l=i.move(c+c);return l+=i.move(e.containerPhrasing(n,{before:l,after:c,...i.current()})),l+=i.move(c+c),a(),l}function Je(n,t,e){return e.options.strong||"*"}function He(n,t,e,r){return e.safe(n.value,r)}function We(n){const t=n.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Ze(n,t,e){const r=(H(e)+(e.options.ruleSpaces?" ":"")).repeat(We(e));return e.options.ruleSpaces?r.slice(0,-1):r}const Ke={blockquote:ue,break:P,code:pe,definition:ge,emphasis:E,hardBreak:P,heading:Le,html:$,image:G,imageReference:q,inlineCode:D,link:Q,linkReference:J,list:Ne,listItem:Ge,paragraph:qe,root:Ue,strong:W,text:He,thematicBreak:Ze},Ve=[Xe];function Xe(n,t,e,r){if(t.type==="code"&&x(t,r)&&(n.type==="list"||n.type===t.type&&x(n,r)))return!1;if("spread"in e&&typeof e.spread=="boolean")return n.type==="paragraph"&&(n.type===t.type||t.type==="definition"||t.type==="heading"&&N(t,r))?void 0:e.spread?1:0}const g=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ye=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:g},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:g},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:g},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,character:"~"}],L=document.createElement("i");function en(n){const t="&"+n+";";L.innerHTML=t;const e=L.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function nn(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}const tn=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rn(n){return n.replace(tn,cn)}function cn(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const c=e.charCodeAt(1),a=c===120||c===88;return nn(e.slice(a?2:1),a?16:10)}return en(e)||n}function on(n){return n.label||!n.identifier?n.label||"":rn(n.identifier)}function an(n){if(!n._compiled){const t=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function ln(n,t,e){const r=t.indexStack,c=n.children||[],a=[];let i=-1,l=e.before;r.push(-1);let o=t.createTracker(e);for(;++i<c.length;){const s=c[i];let u;if(r[r.length-1]=i,i+1<c.length){let f=t.handle.handlers[c[i+1].type];f&&f.peek&&(f=f.peek),u=f?f(c[i+1],n,t,{before:"",after:"",...o.current()}).charAt(0):""}else u=e.after;a.length>0&&(l==="\r"||l===`
`)&&s.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),l=" ",o=t.createTracker(e),o.move(a.join(""))),a.push(o.move(t.handle(s,n,t,{...o.current(),before:l,after:u}))),l=a[a.length-1].slice(-1)}return r.pop(),a.join("")}function sn(n,t,e){const r=t.indexStack,c=n.children||[],a=t.createTracker(e),i=[];let l=-1;for(r.push(-1);++l<c.length;){const o=c[l];r[r.length-1]=l,i.push(a.move(t.handle(o,n,t,{before:`
`,after:`
`,...a.current()}))),o.type!=="list"&&(t.bulletLastUsed=void 0),l<c.length-1&&i.push(a.move(un(o,c[l+1],n,t)))}return r.pop(),i.join("")}function un(n,t,e,r){let c=r.join.length;for(;c--;){const a=r.join[c](n,t,e,r);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}const fn=/\r?\n|\r/g;function hn(n,t){const e=[];let r=0,c=0,a;for(;a=fn.exec(n);)i(n.slice(r,a.index)),e.push(a[0]),r=a.index+a[0].length,c++;return i(n.slice(r)),e.join("");function i(l){e.push(t(l,c,!l))}}function dn(n,t,e){const r=(e.before||"")+(t||"")+(e.after||""),c=[],a=[],i={};let l=-1;for(;++l<n.unsafe.length;){const u=n.unsafe[l];if(!B(n.stack,u))continue;const f=n.compilePattern(u);let h;for(;h=f.exec(r);){const d="before"in u||!!u.atBreak,m="after"in u,p=h.index+(d?h[1].length:0);c.includes(p)?(i[p].before&&!d&&(i[p].before=!1),i[p].after&&!m&&(i[p].after=!1)):(c.push(p),i[p]={before:d,after:m})}}c.sort(pn);let o=e.before?e.before.length:0;const s=r.length-(e.after?e.after.length:0);for(l=-1;++l<c.length;){const u=c[l];u<o||u>=s||u+1<s&&c[l+1]===u+1&&i[u].after&&!i[u+1].before&&!i[u+1].after||c[l-1]===u-1&&i[u].before&&!i[u-1].before&&!i[u-1].after||(o!==u&&a.push(R(r.slice(o,u),"\\")),o=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!e.encode||!e.encode.includes(r.charAt(u)))?a.push("\\"):(a.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),o++))}return a.push(R(r.slice(o,s),e.after)),a.join("")}function pn(n,t){return n-t}function R(n,t){const e=/\\(?=[!-/:-@[-`{-~])/g,r=[],c=[],a=n+t;let i=-1,l=0,o;for(;o=e.exec(a);)r.push(o.index);for(;++i<r.length;)l!==r[i]&&c.push(n.slice(l,r[i])),c.push("\\"),l=r[i];return c.push(n.slice(l)),c.join("")}function mn(n){const t=n||{},e=t.now||{};let r=t.lineShift||0,c=e.line||1,a=e.column||1;return{move:o,current:i,shift:l};function i(){return{now:{line:c,column:a},lineShift:r}}function l(s){r+=s}function o(s){const u=s||"",f=u.split(/\r?\n|\r/g),h=f[f.length-1];return c+=f.length-1,a=f.length===1?a+h.length:1+h.length+r,u}}function gn(n,t={}){const e={enter:c,indentLines:hn,associationId:on,containerPhrasing:bn,containerFlow:vn,createTracker:mn,compilePattern:an,safe:yn,stack:[],unsafe:[...Ye],join:[...Ve],handlers:{...Ke},options:{},indexStack:[],handle:void 0};S(e,t),e.options.tightDefinitions&&e.join.push(xn),e.handle=ae("type",{invalid:kn,unknown:wn,handlers:e.handlers});let r=e.handle(n,void 0,e,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function c(a){return e.stack.push(a),i;function i(){e.stack.pop()}}}function kn(n){throw new Error("Cannot handle value `"+n+"`, expected node")}function wn(n){const t=n;throw new Error("Cannot handle unknown node `"+t.type+"`")}function xn(n,t){if(n.type==="definition"&&n.type===t.type)return 0}function bn(n,t){return ln(n,this,t)}function vn(n,t){return sn(n,this,t)}function yn(n,t){return dn(this,n,t)}const Cn=function(){return n=>{j(n,"blockquote",t=>{var e;if(t.children&&t.children.length>0){const r=t.children[0];if(r.type==="paragraph"&&r.children&&r.children.length>0){console.log(JSON.parse(JSON.stringify(t)));const c=r.children[0];if(c.type==="text"&&c.value){const a=c.value.trim(),i=a.match(/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\](.*)$/);if(i){console.log(a),console.log(i);const l=i[1].toLowerCase(),o=r.children.slice(1),s=gn({type:"root",children:o}),u=(e=growiFacade.markdownRenderer)!=null&&e.parse?growiFacade.markdownRenderer.parse(s):s;console.log(JSON.parse(JSON.stringify(u))),t.type="html",t.value=`
                <div class="callout callout-${l}">
                  ${u}
                </div>
              `,t.children=[]}}}}})}},An=()=>{if(growiFacade==null||growiFacade.markdownRenderer==null)return;const{optionsGenerators:n}=growiFacade.markdownRenderer;n.customGenerateViewOptions=(...t)=>{const e=n.generateViewOptions(...t);return e.remarkPlugins.push(Cn),e}},_n=()=>{};window.pluginActivators==null&&(window.pluginActivators={});window.pluginActivators[oe.name]={activate:An,deactivate:_n};
